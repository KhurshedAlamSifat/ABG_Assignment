<div>
  <div class="submit-form">
    <form #productForm="ngForm" (ngSubmit)="saveProduct()" novalidate>
      <div *ngIf="!submitted; else successMessage">
        <div class="form-group">
          <label for="productName">Product Name</label>
          <input
            type="text"
            class="form-control"
            id="productName"
            required
            minlength="3"
            [(ngModel)]="product.productName"
            name="productName"
            #productName="ngModel"
          />
          <div
            *ngIf="
              productName.invalid && (productName.dirty || productName.touched)
            "
            class="invalid-feedback"
          >
            <div *ngIf="productName.errors?.['required']">
              Product Name is required.
            </div>
            <div *ngIf="productName.errors?.['minlength']">
              Product Name must be at least 3 characters long.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="productDescription">Product Description</label>
          <input
            type="text"
            class="form-control"
            id="productDescription"
            required
            [(ngModel)]="product.productDescription"
            name="productDescription"
            #productDescription="ngModel"
          />
          <div
            *ngIf="
              productDescription.invalid &&
              (productDescription.dirty || productDescription.touched)
            "
            class="invalid-feedback"
          >
            <div *ngIf="productDescription.errors?.['required']">
              Product Description is required.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="productPrice">Price</label>
          <input
            type="number"
            class="form-control"
            id="productPrice"
            required
            min="0.01"
            step="0.01"
            [(ngModel)]="product.productPrice"
            name="productPrice"
            #productPrice="ngModel"
          />
          <div
            *ngIf="
              productPrice.invalid &&
              (productPrice.dirty || productPrice.touched)
            "
            class="invalid-feedback"
          >
            <div *ngIf="productPrice.errors?.['required']">
              Price is required.
            </div>
            <div *ngIf="productPrice.errors?.['min']">
              Price must be greater than zero.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="productQuantity">Quantity</label>
          <input
            type="number"
            class="form-control"
            id="productQuantity"
            required
            min="1"
            [(ngModel)]="product.productQuantity"
            name="productQuantity"
            #productQuantity="ngModel"
          />
          <div
            *ngIf="
              productQuantity.invalid &&
              (productQuantity.dirty || productQuantity.touched)
            "
            class="invalid-feedback"
          >
            <div *ngIf="productQuantity.errors?.['required']">
              Quantity is required.
            </div>
            <div *ngIf="productQuantity.errors?.['min']">
              Quantity must be at least 1.
            </div>
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-success"
          [disabled]="productForm.invalid"
        >
          Submit
        </button>
      </div>

      <ng-template #successMessage>
        <h4>Product was submitted successfully!</h4>
        <button class="btn btn-success" (click)="newProduct()">
          Add Another
        </button>
      </ng-template>
    </form>
  </div>
</div>
